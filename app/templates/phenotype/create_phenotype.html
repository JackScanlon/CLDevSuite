{% extends "base.html" %}
{% load i18n %}
{% load breadcrumbs %}

{% block title %} Concept Library - Create Phenotype {% endblock title %}

{% block content %}
  {% include "components/navigation.html" %}
  
  <main class="page-content">
    {% breadcrumbs useMap=False includeHome=True includeHeader=True %}
    {% endbreadcrumbs %}
    
    <aside class="steps-wizard">
      <section class="steps-panel" onselectstart="return false;">
        <span class="wizard-header">Skip to step...</span>
        <span class="wizard-step-item" id="definition-step" data-value="1" data-target="definition-progress">Definition</span>
        <span class="wizard-step-item" id="concept-step" data-value="2" data-target="concept-progress">Concets</span>
        <span class="wizard-step-item" id="publication-step" data-value="3" data-target="publication-progress">Publication</span>
        <span class="wizard-step-item" id="validation-step" data-value="4" data-target="validation-progress">Validation</span>
        <span class="wizard-step-item" id="permissions-step" data-value="5" data-target="permission-progress">Permissions</span>
      </section>
    </aside>

    <article class="creation-wizard">
      <section class="header">
        <h1>Create a new Phenotype:<span>step by step</span></h1>
        <p>Follow the steps below to create and publish your phenotype.</p>
      </section>
      
      <ol class="progress">
        <li class="progress-item" id="definition-progress">
          <label class="header">Definition</label>
          <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <p class="input">Name</p>
          <p class="description sm">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
          <input class="text-input" aria-label="Phenotype Name" type="text" id="phenotype-name" name="phenotype-name" placeholder="" minlength="3" pattern="w{1,}.*?" required>
          <p class="input">Description</p>
          <p class="description sm">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
          <textarea class="text-area-input" aria-label="Phenotype Description" id="phenotype-description" name="phenotype-description" rows="4" autocorrect="on" autocomplete="off" minlength="5" spellcheck="default" wrap="soft" pattern="w{1,}.*?" required></textarea>
          <p class="input">Author</p>
          <p class="description sm">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
          <input class="text-input" aria-label="Phenotype Name" type="text" id="phenotype-name" name="phenotype-name" placeholder="" minlength="3" pattern="w{1,}.*?" required>
          <p class="input">Event date range</p>
          <p class="description sm">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
          <input class="date-input" aria-label="Phenotype event date range" type="date" id="phenotype-entry-date" name="phenotype-entry-date" value="2022-11-08" min="2018-01-01" max="2023-10-11" pattern="d{4}-d{2}-d{2}" required>
          <p class="input">Type</p>
          <p class="description sm">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
          <select class="selection-input" aria-label="Select Phenotype Type" name="phenotype-type" id="phenotype-type" required>
            <option disabled value="" selected hidden>Select</option>
            <option value="0">Biomarker</option>
            <option value="1">Disease or Syndrome</option>
            <option value="2">Drug</option>
            <option value="3">Lifestyle Risk Factor</option>
          </select>
          <p class="input">Tags</p>
          <p class="description sm">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
          <input class="text-input" aria-label="Phenotype Tags" type="text" id="phenotype-tags" name="phenotype-tags" placeholder="Add Tag...">
          <p class="input">Collections</p>
          <p class="description sm">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
          <input class="text-input" aria-label="Phenotype Collections" type="text" id="phenotype-collections" name="phenotype-collections" placeholder="Add Collection...">
        </li>

        <li class="progress-item" id="concept-progress">
          <label class="header">Concepts</label>
          <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <section class="concepts-view show" aria-hidden="false" id="concepts-view">
            <p class="input">Your Concepts</p>
            <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
            <section class="expandable" id="concepts-view-toggle">
              <label>Expand</label>
            </section>
            <section class="concept-list">
              <section class="concept-interaction">
                <button class="secondary-btn text-accent-darkest bold icon import-icon secondary-accent" aria-label="Create new Concept" id="create-concept-btn">New Concept</button>
              </section>
              <section class="concept-group"><span class="concept-item is-open"><span class="contextual-icon"></span>
                  <label class="concept-name">Some concept name</label><span class="concept-buttons"><span class="edit-icon"></span><span class="delete-icon"></span></span></span>
                <section class="concept-content">
                  <section class="content">
                    <section class="concept-content-details">
                      <label>Codelist</label>
                      <ul class="chips-group" id="coding-system-chip">
                        <li class="chip bold washed-accent text-accent-darkest codelist-icon icon-accent-highlight"><a href="#" id="coding-system-info">ICD-10</a></li>
                      </ul>
                    </section>
                    <section class="codelist">
                      <section class="codelist-header">
                        <label>Rule</label>
                        <label>Code</label>
                        <label>Description</label>
                        <label>Source</label>
                      </section>
                      <section class="codelist-content">
                        <div class="codelist-item">
                          <label class="rule inclusion-rule" id="rule" value="true"></label>
                          <label class="item" id="code">C30.0</label>
                          <label class="wrap" id="desc">Malignant neoplasms of respiratory and intrathoracic organs</label>
                          <label class="item" id="source">Searchterm</label>
                        </div>
                        <div class="codelist-item">
                          <label class="rule inclusion-rule" id="rule" value="false"></label>
                          <label class="item" id="code">C30.0</label>
                          <label class="wrap" id="desc">Malignant neoplasms of respiratory and intrathoracic organs</label>
                          <label class="item" id="source">Searchterm</label>
                        </div>
                      </section>
                    </section>
                  </section>
                </section>
              </section>
              <section class="concept-group"><span class="concept-item"><span class="contextual-icon"></span>
                  <label class="concept-name">Some concept name</label><span class="concept-buttons"><span class="edit-icon"></span><span class="delete-icon"></span></span></span>
                <section class="concept-content">
                  <section class="content">
                    <section class="concept-content-details">
                      <label>Codelist</label>
                      <ul class="chips-group" id="coding-system-chip">
                        <li class="chip bold washed-accent text-accent-darkest codelist-icon icon-accent-highlight"><a href="#" id="coding-system-info">ICD-10</a></li>
                      </ul>
                    </section>
                    <section class="codelist">
                      <section class="codelist-header">
                        <label>Rule</label>
                        <label>Code</label>
                        <label>Description</label>
                        <label>Source</label>
                      </section>
                      <section class="codelist-content">
                        <div class="codelist-item">
                          <label class="rule inclusion-rule" id="rule" value="true"></label>
                          <label class="item" id="code">C30.0</label>
                          <label class="wrap" id="desc">Malignant neoplasms of respiratory and intrathoracic organs</label>
                          <label class="item" id="source">Searchterm</label>
                        </div>
                        <div class="codelist-item">
                          <label class="rule inclusion-rule" id="rule" value="false"></label>
                          <label class="item" id="code">C30.0</label>
                          <label class="wrap" id="desc">Malignant neoplasms of respiratory and intrathoracic organs</label>
                          <label class="item" id="source">Searchterm</label>
                        </div>
                      </section>
                    </section>
                  </section>
                </section>
              </section>
              <section class="concept-group"><span class="concept-item"><span class="contextual-icon"></span>
                  <label class="concept-name">Some concept name</label><span class="concept-buttons"><span class="edit-icon"></span><span class="delete-icon"></span></span></span>
                <section class="concept-content">
                  <section class="content">
                    <section class="concept-content-details">
                      <label>Codelist</label>
                      <ul class="chips-group" id="coding-system-chip">
                        <li class="chip bold washed-accent text-accent-darkest codelist-icon icon-accent-highlight"><a href="#" id="coding-system-info">ICD-10</a></li>
                      </ul>
                    </section>
                    <section class="codelist">
                      <section class="codelist-header">
                        <label>Rule</label>
                        <label>Code</label>
                        <label>Description</label>
                        <label>Source</label>
                      </section>
                      <section class="codelist-content">
                        <div class="codelist-item">
                          <label class="rule inclusion-rule" id="rule" value="true"></label>
                          <label class="item" id="code">C30.0</label>
                          <label class="wrap" id="desc">Malignant neoplasms of respiratory and intrathoracic organs</label>
                          <label class="item" id="source">Searchterm</label>
                        </div>
                        <div class="codelist-item">
                          <label class="rule inclusion-rule" id="rule" value="false"></label>
                          <label class="item" id="code">C30.0</label>
                          <label class="wrap" id="desc">Malignant neoplasms of respiratory and intrathoracic organs</label>
                          <label class="item" id="source">Searchterm</label>
                        </div>
                      </section>
                    </section>
                  </section>
                </section>
              </section>
            </section>
          </section>
          <section class="create-concept-view" aria-hidden="true" id="create-concept-view">
            <p class="input" id="title">Create Concept
              <button class="quit-button" aria-label="Exit Concept Editor" id="quit-creation"></button>
            </p>
            <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
            <section class="information">
              <p class="input sm">Concept Name</p>
              <p class="description sm">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
              <input class="text-input" aria-label="Concept Name" type="text" id="concept-name" name="concept-name" placeholder="" minlength="3" pattern="w{1,}.*?" required>
              <p class="input sm">Coding System</p>
              <p class="description sm">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
              <select class="selection-input" aria-label="Select Coding System" name="concept-coding-system" id="concept-coding-system" required>
                <option disabled value="" selected hidden>Select</option>
                <option value="0">Read Codes v2</option>
                <option value="1">ICD-10 Codes</option>
                <option value="2">Med Codes</option>
                <option value="3">SNOMED CT Codes</option>
              </select>
            </section>
            <section class="codelist-area">
              <section class="codelist-controls">
                <section class="details">
                  <p class="input sm">Codelist</p>
                  <p class="description sm">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </section>
                <section class="controls">             
                  <div class="group">
                    <form class="radio-chips-group" id="codelist-view-form">
                      <input class="radio-chip table-view" type="radio" id="codelist-table-view" name="codelist-view" checked>
                      <label for="codelist-table-view">Table View</label>
                      <input class="radio-chip component-view" type="radio" id="codelist-component-view" name="codelist-view">
                      <label for="codelist-component-view">Component View</label>
                    </form>
                  </div>
                </section>
              </section>
              <section class="component-view hide" id="component-view-area">
                <section class="component-group"><span class="component-item is-open"><span class="contextual-icon"></span>
                    <label class="component-name">"Neoplasms"</label></span>
                  <section class="component-content">
                    <section class="content">
                      <section class="component-content-details">
                        <label>Codelist</label>
                      </section>
                      <section class="codelist components">
                        <section class="codelist-header">
                          <label>Rule</label>
                          <label>Code</label>
                          <label>Description</label>
                        </section>
                        <section class="codelist-content">
                          <div class="codelist-item">
                            <label class="rule" id="rule">
                              <form class="rule-button-group">
                                <input class="ruleset-button include" aria-label="Inclusion Rule" type="radio" id="include" name="ruleset" checked>
                                <input class="ruleset-button exclude" aria-label="Exclusion Rule" type="radio" id="exclude" name="ruleset">
                                <input class="ruleset-button remove" aria-label="Remove code" type="radio" id="remove" name="ruleset">
                              </form>
                            </label>
                            <label class="item" id="code">C30.0</label>
                            <label class="wrap" id="desc">Malignant neoplasms of respiratory and intrathoracic organs</label>
                          </div>
                          <div class="codelist-item">
                            <label class="rule" id="rule">
                              <form class="rule-button-group">
                                <input class="ruleset-button include" aria-label="Inclusion Rule" type="radio" id="include" name="ruleset" checked>
                                <input class="ruleset-button exclude" aria-label="Exclusion Rule" type="radio" id="exclude" name="ruleset">
                                <input class="ruleset-button remove" aria-label="Remove code" type="radio" id="remove" name="ruleset">
                              </form>
                            </label>
                            <label class="item" id="code">C30.0</label>
                            <label class="wrap" id="desc">Malignant neoplasms of respiratory and intrathoracic organs</label>
                          </div>
                        </section>
                      </section>
                    </section>
                  </section>
                </section>
                <section class="component-group"><span class="component-item"><span class="contextual-icon"></span>
                    <label class="component-name">Imported.csv</label></span>
                  <section class="component-content"></section>
                </section>
                <section class="component-group"><span class="component-item"><span class="contextual-icon"></span>
                    <label class="component-name">Codelist View</label></span>
                  <section class="component-content"></section>
                </section>
                <section class="component-group"><span class="component-item"><span class="contextual-icon"></span>
                    <label class="component-name">PH123/23 → C456/89</label></span>
                  <section class="component-content"></section>
                </section>
              </section>
              <section class="codelist mrg-bottom" id="codelist-view-area">
                <section class="codelist-header creation">
                  <label>Rule</label>
                  <label>Code</label>
                  <label>Description</label>
                  <label>Source</label>
                </section>
                <section class="codelist-content">
                  <div class="codelist-creation-item">
                    <label class="rule" id="rule">
                      <form class="rule-button-group">
                        <input class="ruleset-button include" aria-label="Inclusion Rule" type="radio" id="include" name="ruleset" checked>
                        <input class="ruleset-button exclude" aria-label="Exclusion Rule" type="radio" id="exclude" name="ruleset">
                        <input class="ruleset-button remove" aria-label="Remove code" type="radio" id="remove" name="ruleset">
                      </form>
                    </label>
                    <label class="item" id="code">C30.0</label>
                    <label class="wrap" id="desc">Malignant neoplasms of respiratory and intrathoracic organs</label>
                    <label class="item" id="source"><a class="codelist-term" title="Selected from the codelist view">Codelist View</a></label>
                  </div>
                  <div class="codelist-creation-item">
                    <label class="rule" id="rule">
                      <form class="rule-button-group">
                        <input class="ruleset-button include" aria-label="Inclusion Rule" type="radio" id="include" name="ruleset" checked>
                        <input class="ruleset-button exclude" aria-label="Exclusion Rule" type="radio" id="exclude" name="ruleset">
                        <input class="ruleset-button remove" aria-label="Remove code" type="radio" id="remove" name="ruleset">
                      </form>
                    </label>
                    <label class="item" id="code">C30.0</label>
                    <label class="wrap" id="desc">Malignant neoplasms of respiratory and intrathoracic organs</label>
                    <label class="item" id="source"><a class="search-term" title="Search term used to find this code">"Neoplasms"</a></label>
                  </div>
                  <div class="codelist-creation-item">
                    <label class="rule" id="rule">
                      <form class="rule-button-group">
                        <input class="ruleset-button include" aria-label="Inclusion Rule" type="radio" id="include" name="ruleset" checked>
                        <input class="ruleset-button exclude" aria-label="Exclusion Rule" type="radio" id="exclude" name="ruleset">
                        <input class="ruleset-button remove" aria-label="Remove code" type="radio" id="remove" name="ruleset">
                      </form>
                    </label>
                    <label class="item" id="code">C30.0</label>
                    <label class="wrap" id="desc">Malignant neoplasms of respiratory and intrathoracic organs</label>
                    <label class="item" id="source"><a class="file-import" title="Imported from file">Imported.csv</a></label>
                  </div>
                  <div class="codelist-creation-item">
                    <label class="rule" id="rule">
                      <form class="rule-button-group">
                        <input class="ruleset-button include" aria-label="Inclusion Rule" type="radio" id="include" name="ruleset" checked>
                        <input class="ruleset-button exclude" aria-label="Exclusion Rule" type="radio" id="exclude" name="ruleset">
                        <input class="ruleset-button remove" aria-label="Remove code" type="radio" id="remove" name="ruleset">
                      </form>
                    </label>
                    <label class="item" id="code">C30.0</label>
                    <label class="wrap" id="desc">Malignant neoplasms of respiratory and intrathoracic organs</label>
                    <label class="item" id="source"><a class="concept-import" title="Imported from existing Concept">PH123/23 → C456/89</a></label>
                  </div>
                </section>
              </section>
            </section>
            <section class="codelist-search">
              <section class="codelist-search-details">
                <section class="details">
                  <p class="input sm">Add Codes</p>
                  <p class="description sm">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                </section>
                <section class="buttons">
                  <div class="group">
                    <button class="secondary-btn text-accent-darkest bold icon create-icon secondary-accent" aria-label="Import Concept" id="import-concept-btn">Import from Concept</button>
                    <button class="secondary-btn icon file-icon text-accent-darkest bold secondary-accent" aria-label="Import codes from file" id="import-file-btn">Import from file</button>
                  </div>
                </section>
              </section>
              <input class="text-input" aria-label="Search Codelist" type="text" id="codelist-search" name="codelist-search" placeholder="Search by code or term..." autocomplete="on" minlength="3">
              <section class="result-container show">
                <section class="result-options show">
                  <form class="checkbox-group">
                    <input class="checkbox-input" aria-label="Add code all codes" type="checkbox" id="select-all-codes" name="select-all-codes">
                    <label for="select-all-codes">Add All</label>
                  </form>
                  <label class="result-details show">Found 2 Code(s)</label>
                </section>
                <section class="no-results">
                  <label class="text">Your search did not match any codes...</label>
                </section>
                <section class="results show">
                  <div class="codelist-result-item">
                    <form class="checkbox-group">
                      <input class="checkbox-input" aria-label="Add code" type="checkbox" id="select-code_0" name="select-code_0">
                      <label class="code" for="select-code_0">C30.0</label>
                      <label class="desc" for="select-code_0">Malignant neoplasms of respiratory and intrathoracic organs</label>
                    </form>
                  </div>
                  <div class="codelist-result-item">
                    <form class="checkbox-group">
                      <input class="checkbox-input" aria-label="Add code" type="checkbox" id="select-code_1" name="select-code_1">
                      <label class="code" for="select-code_1">C30.0</label>
                      <label class="desc" for="select-code_1">Malignant neoplasms of respiratory and intrathoracic organs</label>
                    </form>
                  </div>
                </section>
              </section>
            </section>
            <section class="complete-concept">
              <button class="secondary-btn text-accent-darkest bold washed-accent" aria-label="Cancel Concept" id="quit-creation">Cancel</button>
              <button class="primary-btn text-accent-darkest bold tertiary-accent" aria-label="Add or update Concept" id="add-concept">Add Concept</button>
            </section>
          </section>
        </li>

        <li class="progress-item" id="publication-progress">
          <label class="header">Publication</label>
          <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <p class="input">Publications</p>
          <p class="description">Have you, or your research group, published a paper that uses or defines this phenotype?</p>
          <form class="radio-group">
            <input class="radio-input" aria-label="Yes, I have published" type="radio" id="has-publication" name="phenotype-published">
            <label for="has-publication">Yes</label>
            <input class="radio-input" aria-label="No, there are no publications" type="radio" id="no-publication" name="phenotype-published" checked>
            <label for="no-publication">No</label>
          </form>
          <p class="input">Publication links</p>
          <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <input class="text-input" aria-label="Publication link input" type="text" placeholder="e.g. https://www.doi.org/XX.XXXX/XXXXXXXXXX">
          <section class="publication-group" aria-hidden="false">
            <label class="publication-desc">Your links:</label>
            <section class="publication-set">
              <section class="publication-header">
                <label>Primary Publication</label>
                <label>Publication Links</label>
              </section>
              <section class="publication-content"><span class="publication-link is-primary"><i></i><a href="">https://www.doi.org/XX.XXXX/XXXXXXXXXX</a></span><span class="publication-link"><i></i><a href="">https://www.doi.org/XX.XXXX/XXXXXXXXXX</a></span></section>
            </section>
          </section>
        </li>

        <li class="progress-item" id="validation-progress">
          <label class="header">Validation</label>
          <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <p class="input">Has validation been performed?</p>
          <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <form class="radio-group">
            <input class="radio-input" aria-label="Yes, validation has been performd" type="radio" id="has-validation" name="phenotype-validation">
            <label for="has-validation">Yes</label>
            <input class="radio-input" aria-label="No validation has been performed" type="radio" id="no-validation" name="phenotype-validation" checked>
            <label for="no-validation">No</label>
          </form>
          <p class="input">Validation description</p>
          <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <textarea class="text-area-input" aria-label="Phenotype validation description" id="phenotype-validation-description" name="phenotype-validation-description" rows="4" autocorrect="on" autocomplete="off" minlength="5" spellcheck="default" wrap="soft" pattern="w{1,}.*?" required></textarea>
        </li>

        <li class="progress-item" id="permission-progress">
          <label class="header">Permissions</label>
          <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <p class="input">Groups</p>
          <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <p class="description normal">Select the group, if any:</p>
          <select class="selection-input" aria-label="Select Phenotype Group" name="phenotype-group" id="phenotype-group" required>
            <option disabled value="" selected hidden>Select</option>
            <option value="0">ADP</option>
            <option value="1">HDRUK</option>
            <option value="2">BREATHE</option>
            <option value="3">SAIL</option>
          </select>
          <p class="input">Group read and write access</p>
          <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <form class="radio-group">
            <input class="radio-input" aria-label="No group access" type="radio" id="group-no-access" name="group-access" checked>
            <label for="group-no-access">No access</label>
            <input class="radio-input" aria-label="Group able to view" type="radio" id="group-view-access" name="group-access">
            <label for="group-view-access">Read</label>
            <input class="radio-input" aria-label="Group able to edit" type="radio" id="group-edit-access" name="group-access">
            <label for="group-edit-access">Read and write</label>
          </form>
          <p class="input">All other users</p>
          <p class="description">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <form class="radio-group">
            <input class="radio-input" aria-label="No user access" type="radio" id="user-no-access" name="user-access" checked>
            <label for="user-no-access">No access</label>
            <input class="radio-input" aria-label="Users able to view" type="radio" id="user-view-access" name="user-access">
            <label for="user-view-access">Read</label>
          </form>
        </li>
      </ol>

      <section class="completed" id="completed-section">
        <div class="row">
          <button class="secondary-btn text-accent-darkest bold washed-accent" aria-label="Save draft" id="save-draft">
            Save as Draft
          </button>
          <button class="primary-btn text-accent-darkest bold tertiary-accent icon create-icon sweep-left" aria-label="Create Phenotype" id="create-phenotype">
            Create Phenotype
          </button>
        </div>
      </section>
    </article>

    {% include "components/footer.html"}
  </main>
{% endblock content %}